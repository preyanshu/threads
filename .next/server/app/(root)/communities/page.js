(()=>{var e={};e.id=45,e.ids=[45],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},87635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(50482),n=r(69108),i=r(62563),a=r.n(i),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(root)",{children:["communities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,20959)),"C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\communities\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,42313)),"C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\communities\\page.tsx"],u="/(root)/communities/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(root)/communities/page",pathname:"/communities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5591:(e,t,r)=>{let s={"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb":()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.updateUser),b09bfeec4770447ecdf478eac2d39128284ff186:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.getActivity),be41f9407caed4a3164b39630c9189fad7727fd5:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUser),c6244d191c17a16014b50f3f4fde03481a153006:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUserPosts),ec252860ac9162ddfbe1ea04f72f708c3300c036:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUsers),"0da0104d7dba8790a8b124806ed952154af8918d":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.removeUserFromCommunity),"2adc94148f09bbe7c9f5d372115a34ad0e86492b":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.createCommunity),"36b1f1bff49b8e737400c116883ce5836c213a82":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunities),"8356855c215e99352469e961aa11611023d1f252":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunityDetails),"884f460cd0c0f18401c5fe05b61a731c0c5cb209":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.addMemberToCommunity),b7d9f3564e437134e6f9276cf9cf726f95971d90:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunityPosts),c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.updateCommunityInfo),e203ae2f7a9b8e132ed9b06224224015081d7d1e:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.deleteCommunity)};async function n(e,...t){return(await s[e]()).apply(null,t)}e.exports={"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb":n.bind(null,"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb"),b09bfeec4770447ecdf478eac2d39128284ff186:n.bind(null,"b09bfeec4770447ecdf478eac2d39128284ff186"),be41f9407caed4a3164b39630c9189fad7727fd5:n.bind(null,"be41f9407caed4a3164b39630c9189fad7727fd5"),c6244d191c17a16014b50f3f4fde03481a153006:n.bind(null,"c6244d191c17a16014b50f3f4fde03481a153006"),ec252860ac9162ddfbe1ea04f72f708c3300c036:n.bind(null,"ec252860ac9162ddfbe1ea04f72f708c3300c036"),"0da0104d7dba8790a8b124806ed952154af8918d":n.bind(null,"0da0104d7dba8790a8b124806ed952154af8918d"),"2adc94148f09bbe7c9f5d372115a34ad0e86492b":n.bind(null,"2adc94148f09bbe7c9f5d372115a34ad0e86492b"),"36b1f1bff49b8e737400c116883ce5836c213a82":n.bind(null,"36b1f1bff49b8e737400c116883ce5836c213a82"),"8356855c215e99352469e961aa11611023d1f252":n.bind(null,"8356855c215e99352469e961aa11611023d1f252"),"884f460cd0c0f18401c5fe05b61a731c0c5cb209":n.bind(null,"884f460cd0c0f18401c5fe05b61a731c0c5cb209"),b7d9f3564e437134e6f9276cf9cf726f95971d90:n.bind(null,"b7d9f3564e437134e6f9276cf9cf726f95971d90"),c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690:n.bind(null,"c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690"),e203ae2f7a9b8e132ed9b06224224015081d7d1e:n.bind(null,"e203ae2f7a9b8e132ed9b06224224015081d7d1e")}},43682:(e,t,r)=>{Promise.resolve().then(r.bind(r,85288)),Promise.resolve().then(r.bind(r,10171)),Promise.resolve().then(r.bind(r,38085)),Promise.resolve().then(r.bind(r,65102)),Promise.resolve().then(r.bind(r,22315)),Promise.resolve().then(r.bind(r,34910)),Promise.resolve().then(r.t.bind(r,31900,23)),Promise.resolve().then(r.t.bind(r,61476,23))},85288:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(95344),n=r(22254),i=r(16212);let a=function({pageNumber:e,isNext:t,path:r}){let a=(0,n.useRouter)(),l=t=>{let s=e;"prev"===t?s=Math.max(1,e-1):"next"===t&&(s=e+1),s>1?a.push(`/${r}?page=${s}`):a.push(`/${r}`)};return t||1!==e?(0,s.jsxs)("div",{className:"pagination",children:[s.jsx(i.z,{onClick:()=>l("prev"),disabled:1===e,className:"!text-small-regular text-light-2",children:"Prev"}),s.jsx("p",{className:"text-small-semibold text-light-1",children:e}),s.jsx(i.z,{onClick:()=>l("next"),disabled:!t,className:"!text-small-regular text-light-2",children:"Next"})]}):null}},10171:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),n=r(41223),i=r.n(n),a=r(22254),l=r(3729),o=r(92549);let d=function({routeType:e}){let t=(0,a.useRouter)(),[r,n]=(0,l.useState)("");return(0,l.useEffect)(()=>{let s=setTimeout(()=>{r?t.push(`/${e}?q=`+r):t.push(`/${e}`)},300);return()=>clearTimeout(s)},[r,e]),(0,s.jsxs)("div",{className:"searchbar",children:[s.jsx(i(),{src:"/assets/search-gray.svg",alt:"search",width:24,height:24,className:"object-contain"}),s.jsx(o.I,{id:"text",value:r,onChange:e=>n(e.target.value),placeholder:`${"search"===e?"Search Users":"Search communities"}`,className:"no-focus searchbar_input"})]})}},92549:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(95344),n=r(3729),i=r(91626);let a=n.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:n,...r}));a.displayName="Input"},20959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s,n,i=r(25036),a=r(78502),l=r(44551),o=r(9648),d=r(9398),c=r(15904),u=r.n(c),f=r(40646),m=r.n(f),b=r(40002);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let p=(0,b.forwardRef)((e,t)=>{let{children:r,...s}=e,n=b.Children.toArray(r),i=n.find(g);if(i){let e=i.props.children,r=n.map(t=>t!==i?t:b.Children.count(e)>1?b.Children.only(null):(0,b.isValidElement)(e)?e.props.children:null);return(0,b.createElement)(x,h({},s,{ref:t}),(0,b.isValidElement)(e)?(0,b.cloneElement)(e,void 0,r):null)}return(0,b.createElement)(x,h({},s,{ref:t}),r)});p.displayName="Slot";let x=(0,b.forwardRef)((e,t)=>{let{children:r,...s}=e;return(0,b.isValidElement)(r)?(0,b.cloneElement)(r,{...function(e,t){let r={...t};for(let s in t){let n=e[s],i=t[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...e)=>{i(...e),n(...e)}:n&&(r[s]=n):"style"===s?r[s]={...n,...i}:"className"===s&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(t,r.ref):r.ref}):b.Children.count(r)>1?b.Children.only(null):null});x.displayName="SlotClone";let v=({children:e})=>(0,b.createElement)(b.Fragment,null,e);function g(e){return(0,b.isValidElement)(e)&&e.type===v}let y=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,j=function(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s);else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(s&&(s+=" "),s+=t);return s};var P=r(95752);let N=(s="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",n={variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==n?void 0:n.variants)==null)return j(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:i}=n,a=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],n=null==i?void 0:i[t];if(null===s)return null;let a=y(s)||y(n);return r[t][a]}),l=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return j(s,a,null==n?void 0:null===(t=n.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...l}[t]):({...i,...l})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),w=b.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},a)=>{let l=s?p:"button";return i.jsx(l,{className:(0,P.cn)(N({variant:t,size:r,className:e})),ref:a,...n})});w.displayName="Button";let k=function({id:e,name:t,username:r,imgUrl:s,bio:n,members:a}){return(0,i.jsxs)("article",{className:"community-card",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx(m(),{href:`/communities/${e}`,className:"relative h-12 w-12",children:i.jsx(u(),{src:s,alt:"community_logo",fill:!0,className:"rounded-full object-cover"})}),(0,i.jsxs)("div",{children:[i.jsx(m(),{href:`/communities/${e}`,children:i.jsx("h4",{className:"text-base-semibold text-light-1",children:t})}),(0,i.jsxs)("p",{className:"text-small-medium text-gray-1",children:["@",r]})]})]}),i.jsx("p",{className:"mt-4 text-subtle-medium text-gray-1",children:n}),(0,i.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-between gap-3",children:[i.jsx(m(),{href:`/communities/${e}`,children:i.jsx(w,{size:"sm",className:"community-card_btn",children:"View"})}),a.length>0&&(0,i.jsxs)("div",{className:"flex items-center",children:[a.map((e,t)=>i.jsx(u(),{src:e.image,alt:`user_${t}`,width:28,height:28,className:`${0!==t&&"-ml-2"} rounded-full object-cover`},t)),a.length>3&&(0,i.jsxs)("p",{className:"ml-1 text-subtle-medium text-gray-1",children:[a.length,"+ Users"]})]})]})]})};var q=r(86840),C=r(62758);let _=async function({searchParams:e}){let t=await (0,a.ar)();if(!t)return null;let r=await (0,q.fetchUser)(t.id);r?.onboarded||(0,l.redirect)("/onboarding");let s=await (0,C.fetchCommunities)({searchString:e.q,pageNumber:e?.page?+e.page:1,pageSize:25});return(0,i.jsxs)(i.Fragment,{children:[i.jsx("h1",{className:"head-text",children:"Communities"}),i.jsx("div",{className:"mt-5",children:i.jsx(o.ZP,{routeType:"communities"})}),i.jsx("section",{className:"mt-9 flex flex-wrap gap-4",children:0===s.communities.length?i.jsx("p",{className:"no-result",children:"No Result"}):i.jsx(i.Fragment,{children:s.communities.map(e=>i.jsx(k,{id:e.id,name:e.name,username:e.username,imgUrl:e.image,bio:e.bio,members:e.members},e.id))})}),i.jsx(d.ZP,{path:"communities",pageNumber:e?.page?+e.page:1,isNext:s.isNext})]})}},9398:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\pmish\Desktop\threads\components\shared\Pagination.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},9648:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\pmish\Desktop\threads\components\shared\Searchbar.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},95752:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i,ie:()=>a});var s=r(70990),n=r(81774);function i(...e){return(0,n.m6)((0,s.W)(e))}function a(e){let t=new Date(e),r=t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),s=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return`${s} - ${r}`}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,661,502,356,437,500,819,39,345,245],()=>r(87635));module.exports=s})();