(()=>{var e={};e.id=653,e.ids=[653],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},36936:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>f,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(50482),a=r(69108),i=r(62563),o=r.n(i),n=r(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["(root)",{children:["profile",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4088)),"C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\profile\\edit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,42313)),"C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\pmish\\Desktop\\threads\\app\\(root)\\profile\\edit\\page.tsx"],f="/(root)/profile/edit/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(root)/profile/edit/page",pathname:"/profile/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5591:(e,t,r)=>{let s={"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb":()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.updateUser),b09bfeec4770447ecdf478eac2d39128284ff186:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.getActivity),be41f9407caed4a3164b39630c9189fad7727fd5:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUser),c6244d191c17a16014b50f3f4fde03481a153006:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUserPosts),ec252860ac9162ddfbe1ea04f72f708c3300c036:()=>Promise.resolve().then(r.bind(r,86840)).then(e=>e.fetchUsers),"0da0104d7dba8790a8b124806ed952154af8918d":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.removeUserFromCommunity),"2adc94148f09bbe7c9f5d372115a34ad0e86492b":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.createCommunity),"36b1f1bff49b8e737400c116883ce5836c213a82":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunities),"8356855c215e99352469e961aa11611023d1f252":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunityDetails),"884f460cd0c0f18401c5fe05b61a731c0c5cb209":()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.addMemberToCommunity),b7d9f3564e437134e6f9276cf9cf726f95971d90:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.fetchCommunityPosts),c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.updateCommunityInfo),e203ae2f7a9b8e132ed9b06224224015081d7d1e:()=>Promise.resolve().then(r.bind(r,62758)).then(e=>e.deleteCommunity)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb":a.bind(null,"3fd262308cbd4d8cfe123ed7d8f55123cd218dfb"),b09bfeec4770447ecdf478eac2d39128284ff186:a.bind(null,"b09bfeec4770447ecdf478eac2d39128284ff186"),be41f9407caed4a3164b39630c9189fad7727fd5:a.bind(null,"be41f9407caed4a3164b39630c9189fad7727fd5"),c6244d191c17a16014b50f3f4fde03481a153006:a.bind(null,"c6244d191c17a16014b50f3f4fde03481a153006"),ec252860ac9162ddfbe1ea04f72f708c3300c036:a.bind(null,"ec252860ac9162ddfbe1ea04f72f708c3300c036"),"0da0104d7dba8790a8b124806ed952154af8918d":a.bind(null,"0da0104d7dba8790a8b124806ed952154af8918d"),"2adc94148f09bbe7c9f5d372115a34ad0e86492b":a.bind(null,"2adc94148f09bbe7c9f5d372115a34ad0e86492b"),"36b1f1bff49b8e737400c116883ce5836c213a82":a.bind(null,"36b1f1bff49b8e737400c116883ce5836c213a82"),"8356855c215e99352469e961aa11611023d1f252":a.bind(null,"8356855c215e99352469e961aa11611023d1f252"),"884f460cd0c0f18401c5fe05b61a731c0c5cb209":a.bind(null,"884f460cd0c0f18401c5fe05b61a731c0c5cb209"),b7d9f3564e437134e6f9276cf9cf726f95971d90:a.bind(null,"b7d9f3564e437134e6f9276cf9cf726f95971d90"),c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690:a.bind(null,"c0c5d611f5d1e9c0f1671c44ec0cd6a6c56e9690"),e203ae2f7a9b8e132ed9b06224224015081d7d1e:a.bind(null,"e203ae2f7a9b8e132ed9b06224224015081d7d1e")}},62056:(e,t,r)=>{Promise.resolve().then(r.bind(r,44949)),Promise.resolve().then(r.bind(r,38085)),Promise.resolve().then(r.bind(r,65102)),Promise.resolve().then(r.bind(r,22315)),Promise.resolve().then(r.bind(r,34910))},44949:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(95344),a=r(41223),i=r.n(a),o=r(60708),n=r(22254),d=r(3729),l=r(85453),c=r(78767),f=r(92549),m=r(16212),u=r(93601);let{useUploadThing:b,uploadFiles:p}=(0,r(70448).$)();var x=r(91626),h=r(29709);let g=h.Ry({profile_photo:h.Z_().url().nonempty(),name:h.Z_().min(3,{message:"Minimum 3 characters."}).max(30,{message:"Maximum 30 caracters."}),username:h.Z_().min(3,{message:"Minimum 3 characters."}).max(30,{message:"Maximum 30 caracters."}),bio:h.Z_().min(3,{message:"Minimum 3 characters."}).max(1e3,{message:"Maximum 1000 caracters."})});r(13664);var v=r(28371);(0,v.$)("b09bfeec4770447ecdf478eac2d39128284ff186"),(0,v.$)("be41f9407caed4a3164b39630c9189fad7727fd5");var y=(0,v.$)("3fd262308cbd4d8cfe123ed7d8f55123cd218dfb");(0,v.$)("c6244d191c17a16014b50f3f4fde03481a153006"),(0,v.$)("ec252860ac9162ddfbe1ea04f72f708c3300c036");let j=({user:e,btnTitle:t})=>{console.log("user",e);let r=(0,n.useRouter)(),a=(0,n.usePathname)(),{startUpload:p}=b("media"),[h,v]=(0,d.useState)([]),j=(0,o.cI)({resolver:(0,l.F)(g),defaultValues:{profile_photo:e?.image?e.image:"",name:e?.name?e.name:"",username:e?.username?e.username:"",bio:e?.bio?e.bio:""}}),P=async t=>{let s=t.profile_photo;if(console.log("values",t),(0,x.dY)(s)){console.log("filesstarted",h);let e=await p(h);console.log("imgRes",e),e&&e[0].fileUrl&&(console.log("imgRes",e),t.profile_photo=e[0].fileUrl)}await y({name:t.name,path:a,username:t.username,userId:e.id,bio:t.bio,image:t.profile_photo}),"/profile/edit"===a?r.back():r.push("/")},N=(e,t)=>{e.preventDefault();let r=new FileReader;if(console.log(e.target.files),e.target.files&&e.target.files.length>0){let s=e.target.files[0];if(v(Array.from(e.target.files)),!s.type.includes("image"))return;r.onload=async e=>{t(e.target?.result?.toString()||"")},r.readAsDataURL(s)}};return s.jsx(c.l0,{...j,children:(0,s.jsxs)("form",{className:"flex flex-col justify-start gap-10",onSubmit:j.handleSubmit(P),children:[s.jsx(c.Wi,{control:j.control,name:"profile_photo",render:({field:e})=>(0,s.jsxs)(c.xJ,{className:"flex items-center gap-4",children:[s.jsx(c.lX,{className:"account-form_image-label",children:e.value?s.jsx(i(),{src:e.value,alt:"profile_icon",width:96,height:96,priority:!0,className:"rounded-full object-contain",onClick:()=>{console.log("field",e)}}):s.jsx(i(),{src:"/assets/profile.svg",alt:"profile_icon",width:24,height:24,className:"object-contain"})}),s.jsx(c.NI,{className:"flex-1 text-base-semibold text-gray-200",children:s.jsx(f.I,{type:"file",accept:"image/*",placeholder:"Add profile photo",className:"account-form_image-input",onChange:t=>N(t,e.onChange)})})]})}),s.jsx(c.Wi,{control:j.control,name:"name",render:({field:e})=>(0,s.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[s.jsx(c.lX,{className:"text-base-semibold text-light-2",children:"Name"}),s.jsx(c.NI,{children:s.jsx(f.I,{type:"text",className:"account-form_input no-focus",...e})}),s.jsx(c.zG,{})]})}),s.jsx(c.Wi,{control:j.control,name:"username",render:({field:e})=>(0,s.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[s.jsx(c.lX,{className:"text-base-semibold text-light-2",children:"Username"}),s.jsx(c.NI,{children:s.jsx(f.I,{type:"text",className:"account-form_input no-focus",...e})}),s.jsx(c.zG,{})]})}),s.jsx(c.Wi,{control:j.control,name:"bio",render:({field:e})=>(0,s.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[s.jsx(c.lX,{className:"text-base-semibold text-light-2",children:"Bio"}),s.jsx(c.NI,{children:s.jsx(u.g,{rows:10,className:"account-form_input no-focus",...e})}),s.jsx(c.zG,{})]})}),s.jsx(m.z,{type:"submit",className:"bg-primary-500",children:t})]})})}},78767:(e,t,r)=>{"use strict";r.d(t,{l0:()=>f,NI:()=>g,Wi:()=>u,xJ:()=>x,lX:()=>h,zG:()=>v});var s=r(95344),a=r(3729),i=r(32751),o=r(60708),n=r(91626),d=r(14217);let l=(0,r(88720).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>s.jsx(d.f,{ref:r,className:(0,n.cn)(l(),e),...t}));c.displayName=d.f.displayName;let f=o.RV,m=a.createContext({}),u=({...e})=>s.jsx(m.Provider,{value:{name:e.name},children:s.jsx(o.Qr,{...e})}),b=()=>{let e=a.useContext(m),t=a.useContext(p),{getFieldState:r,formState:s}=(0,o.Gc)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},p=a.createContext({}),x=a.forwardRef(({className:e,...t},r)=>{let i=a.useId();return s.jsx(p.Provider,{value:{id:i},children:s.jsx("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let h=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:i}=b();return s.jsx(c,{ref:r,className:(0,n.cn)(a&&"text-red-500 dark:text-red-900",e),htmlFor:i,...t})});h.displayName="FormLabel";let g=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:o,formMessageId:n}=b();return s.jsx(i.g7,{ref:t,id:a,"aria-describedby":r?`${o} ${n}`:`${o}`,"aria-invalid":!!r,...e})});g.displayName="FormControl",a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=b();return s.jsx("p",{ref:r,id:a,className:(0,n.cn)("text-sm text-slate-500 dark:text-slate-400",e),...t})}).displayName="FormDescription";let v=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:i,formMessageId:o}=b(),d=i?String(i?.message):t;return d?s.jsx("p",{ref:a,id:o,className:(0,n.cn)("text-sm font-medium text-red-500 dark:text-red-900",e),...r,children:d}):null});v.displayName="FormMessage"},92549:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(95344),a=r(3729),i=r(91626);let o=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:a,...r}));o.displayName="Input"},93601:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var s=r(95344),a=r(3729),i=r(91626);let o=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:r,...t}));o.displayName="Textarea"},4088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(25036),a=r(78502),i=r(44551),o=r(86840),n=r(58999);let d=async function(){let e=await (0,a.ar)();if(!e)return null;let t=await (0,o.fetchUser)(e.id);t?.onboarded||(0,i.redirect)("/onboarding");let r={id:e.id,objectId:t?._id,username:t?t?.username:e.username,name:t?t?.name:e.firstName??"",bio:t?t?.bio:"",image:t?t?.image:e.imageUrl};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("h1",{className:"head-text",children:"Edit Profile"}),s.jsx("p",{className:"mt-3 text-base-regular text-light-2",children:"Make any changes"}),s.jsx("section",{className:"mt-12",children:s.jsx(n.ZP,{user:r,btnTitle:"Continue"})})]})}},58999:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\pmish\Desktop\threads\components\forms\AccountProfile.tsx`),{__esModule:a,$$typeof:i}=s,o=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,661,502,356,437,500,819,39,355,448,245],()=>r(36936));module.exports=s})();